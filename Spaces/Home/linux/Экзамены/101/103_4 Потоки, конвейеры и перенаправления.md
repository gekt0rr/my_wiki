# **103.4 Потоки, конвейеры и перенаправления**

### Изучаем:

- Перенаправление стандартных ввода, вывода и ошибок;
- Передачу вывода одной команды на ввод другой;
- Использование вывода одной команды в качестве аргументов другой;
- Получение выходных данных в файл и на стандартный вывод.

### Термины и утилиты:

- `tee`, `xargs`
- `stdin`, `stdout`, `stderr`

---

## **Потоки в Linux:**

Linux использует потоки для ввода, вывода и обработки ошибок. Ввод обычно поступает с клавиатуры или из файлов, а вывод и сообщения об ошибках направляются в консоль. Часто необходимо объединить несколько команд в конвейер или перенаправить вывод в файл.

**Перенаправление ввода и вывода:**

- Для перенаправления стандартного ввода используется символ `<`:
    
    ```
    wc < file1.txt    # Использовать file1.txt как ввод для wc
    ```
    
- Для перенаправления стандартного вывода используется символ `>`:
    
    ```
    ls > list.txt    # Перезаписать содержимое файла list.txt результатом команды ls
    ```
    
- Для добавления вывода в конец файла используется символ `>>`:
    
    ```
    ls >> list.txt    # Дописать результат команды ls в файл list.txt
    ```
    

**Стандартные потоки:**

- **Stdin** (стандартный ввод) – обозначение "0"
- **Stdout** (стандартный вывод) – обозначение "1"
- **Stderr** (стандартные ошибки) – обозначение "2"

**Примеры использования стандартных потоков:**

- Перенаправление ошибок:
    
    ```
    ls bob 2> error.txt    # Перенаправить ошибки ls в файл error.txt
    ```
    
- Перенаправление как вывода, так и ошибок:
    
    ```
    ls bob > result.txt 2> error.txt    # Вывод в result.txt, ошибки в error.txt
    ```
    

## **Конвейеры и использование команд:**

Конвейеры позволяют передавать вывод одной команды на ввод другой, используя символ `|`:

 ```
 cat file.txt | grep "pattern"    # Передать содержимое file.txt в grep для фильтрации
 ```

**Дополнительные утилиты:**

- **`tee`** – дублирует ввод, отправляя его одновременно на стандартный вывод и в файл:
    
    ```
    ls | tee list.txt    # Вывести результат ls на экран и записать в list.txt
    ```
    
- **`xargs`** – используется для передачи аргументов одной команде из вывода другой:
    
    ```
    find . -name "*.txt" | xargs wc    # Посчитать количество строк в всех .txt файлах
    ```
