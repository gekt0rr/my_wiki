# **103.2 Управление текстовым потоком**

### **Изучаем:**

- применение текстовых фильтров с использованием встроенных команд UNIX.

### **Термины и утилиты:**

- `cat`
- `cut`
- `expand`
- `fmt`
- `head`
- `join`
- `less`
- `nl`
- `od`
- `paste`
- `pr`
- `sed`
- `sort`
- `split`
- `tail`
- `tr`
- `unexpand`
- `uniq`
- `wc`

Множество файлов в Linux неудобны для восприятия без предварительного форматирования. Обработка текстовой информации часто требует ее редактирования, обрезания, сортировки и т.д. Linux предлагает широкий набор инструментов для управления текстом, при этом данные утилиты не изменяют исходный файл (или поток), а выводят результат в консоль или в другой файл.

### **Простой вывод текста:**

Для вывода содержимого файла или объединения нескольких файлов на выводе используется команда **`cat`**, например:

bash

Копировать код

```
cat 1.txt 2.txt > 3.txt
```

_Объединить содержимое двух файлов и сохранить результат в третий файл._

Команда **`join`** объединяет строки нескольких файлов по общему полю и выводит их в консоль.  
**`less`** загружает файл по частям и выводит его, что удобно для просмотра больших файлов.  
**`nl`** нумерует строки в выводе.  
**`pr`** показывает, как содержимое файла будет выглядеть при выводе на печать.  
**`paste`** вставляет строки из одного файла в другой и отправляет результат на стандартный вывод.

Команда **`head`** выводит первые строки файла, а **`tail`** — последние.
Примеры:

```
head -n 2 /var/log/syslog
```
_Вывести первые две строки файла._

```
tail -f /var/log/syslog
```
_Отображать последние строки файла в режиме реального времени._

**`sort`** сортирует содержимое файла:

```
sort 1.txt
```
_Отсортировать строки по алфавиту._

**`wc`** подсчитывает количество строк, слов и символов:

```
wc 1.txt
```
_Посчитать количество строк, слов и символов в файле._

### **Форматирование текста:**

- **`cut`** — обрезает текст. Пример:

```
cut -c 2,3,4,5,10 1.txt
```
_Вывести только указанные символы (2, 3, 4, 5 и 10) из файла._

- **`expand`** — превращает табуляцию в пробелы.
- **`unexpand`** — наоборот, превращает пробелы в табуляцию.
- **`fmt`** — форматирует текст. Пример:

```
fmt 1.txt
```
_Вывести содержимое файла в одну строку._

```
fmt -w 10 1.txt
```
_Ограничить длину строк 10 символами._

- **`od`** — конвертирует текст в другой формат, например, в ASCII:

```
od -c 1.txt
```
_Отобразить содержимое файла в кодировке ASCII._

- **`tr`** — заменяет и удаляет символы. Пример:

```
echo "HELLO" | tr 'L' 'l'
```
_Заменить все "L" на "l"._

- **`split`** — разбивает файл. Пример:

```
split -l 2 1.txt
```
_Разбить файл по две строки._

- **`uniq`** — находит уникальные строки:

```
uniq -u 1.txt
```
_Вывести только уникальные строки._

### **Sed — мощный инструмент для редактирования текстов:**

**`sed`** работает с текстовыми шаблонами и группами символов. Пример:

```
sed -e 's/socks/people/' 1.txt
```
_Заменить слово "socks" на "people" в файле._